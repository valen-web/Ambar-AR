<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vela Interactiva</title>
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="modelo.css">
</head>

<body>

  <nav>
    <a href="index.html">
      <img src="Img/Logo.jpg" alt="Logo" width="100px">
    </a>
  </nav>

  <h1>Vela Interactiva</h1>

  <model-viewer 
    id="modelViewer"
    alt="Vela AR"
    auto-rotate
    camera-controls
    ar
    ar-modes="webxr scene-viewer quick-look"
    shadow-intensity="1"
    style="width: 100%; height: 60vh;">
  </model-viewer>

  <p class="info">Toca el ícono del cubo para ver el modelo en realidad aumentada</p>

  <div class="detalles">
    <p id="descripcion" class="descripcion"></p>
  </div>

  <a href="index.html">
    <button class="button">Volver al Catálogo</button>
  </a>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const vela = urlParams.get('vela');
    console.log("Vela seleccionada:", vela);

    const modelViewer = document.getElementById('modelViewer');
    const descripcion = document.getElementById('descripcion');

    if (modelViewer && vela) {
      modelViewer.setAttribute('src', `Modelos/${vela}.glb`);
      modelViewer.setAttribute('ios-src', `Modelos/${vela}.usdz`); // opcional para iPhone

      // Opcional: descripción según modelo seleccionado
      descripcion.textContent = `¡Interactúa o pruébalo en AR!`;
    } else {
      console.error("No se encontró el modelo o el elemento model-viewer");
    }
  </script>

</body>
</html>

